<mat-expansion-panel class="post-form-panel">
  <mat-expansion-panel-header>
    <mat-panel-title>
      Whats going on?
    </mat-panel-title>
  </mat-expansion-panel-header>

  <div class="panel-content" *ngIf="authenticated$ | async">
    <mat-menu #selectPostMethod="matMenu" class="select-post-method-menu">
      <button mat-menu-item class="select-post-method-menu-item" (click)="setCharacter()">
        <img src="{{ character.portrait.px64x64}}">
        <span>{{ character.name }}</span>
      </button>
      <button mat-menu-item class="select-post-method-menu-item" (click)="setCorporation()">
        <img src="{{ character.corporation.icon.px64x64}}">
        <span>{{ character.corporation.name }}</span>
      </button>
      <button mat-menu-item class="select-post-method-menu-item" (click)="setAlliance()">
        <img src="{{ character.corporation.alliance.icon.px64x64}}">
        <span>{{ character.corporation.alliance.name }}</span>
      </button>
    </mat-menu>

    <button mat-icon-button [matMenuTriggerFor]="selectPostMethod" class="select-post-method">
      <img src="{{ postAsImage }}">
    </button>

    <div class="post-input-wrap">
      <div class="post-input-field"
           contenteditable="true"
           role="textbox"
           aria-multiline="true"
           appContentEditable
           [contentValue]="postHtml"
           (contentValueUpdate)="writing($event)">
      </div>
    </div>

    <div class="button-wrap">
      <button mat-button (click)="submit()">Share</button>
    </div>
  </div>

  <div class="panel-content" *ngIf="(authenticated$ | async) == false">
    <p class="unauthenticated">You have to be logged in to post content</p>
  </div>

</mat-expansion-panel>

